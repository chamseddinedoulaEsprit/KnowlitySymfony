{% extends 'base2.html.twig' %}

{% block title %}Nouveau Blog{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <style>
        .error-message {
            color: #dc3545;
            font-size: 0.875rem;
            margin-top: 0.25rem;
        }
        .form-error {
            border-color: #dc3545;
        }
    </style>
{% endblock %}

{% block body %}
    <div class="container mt-5">
        <h1 class="text-center mb-4">Créer un nouveau blog</h1>

        {{ form_start(form, {'attr': {'novalidate': 'novalidate'}}) }}
            <div class="card">
                <div class="card-body">
                    <div class="mb-3">
                        {{ form_label(form.title) }}
                        {{ form_widget(form.title, {
                            'attr': {
                                'class': 'form-control' ~ (errors['title'] is defined ? ' form-error' : ''),
                                'required': false
                            }
                        }) }}
                        {% if errors['title'] is defined %}
                            <div class="error-message">{{ errors['title'] }}</div>
                        {% endif %}
                    </div>

                    <div class="mb-3">
                        {{ form_label(form.content) }}
                        {{ form_widget(form.content, {
                            'attr': {
                                'class': 'form-control' ~ (errors['content'] is defined ? ' form-error' : ''),
                                'required': false
                            }
                        }) }}
                        {% if errors['content'] is defined %}
                            <div class="error-message">{{ errors['content'] }}</div>
                        {% endif %}
                    </div>

                    <div class="mb-3">
                        {{ form_label(form.creatorName) }}
                        {{ form_widget(form.creatorName, {
                            'attr': {
                                'class': 'form-control' ~ (errors['creatorName'] is defined ? ' form-error' : ''),
                                'required': false
                            }
                        }) }}
                        {% if errors['creatorName'] is defined %}
                            <div class="error-message">{{ errors['creatorName'] }}</div>
                        {% endif %}
                    </div>

                    <div class="mb-3">
                        {{ form_label(form.userImage) }}
                        {{ form_widget(form.userImage, {
                            'attr': {
                                'class': 'form-control' ~ (errors['userImage'] is defined ? ' form-error' : ''),
                                'required': false
                            }
                        }) }}
                        {% if errors['userImage'] is defined %}
                            <div class="error-message">{{ errors['userImage'] }}</div>
                        {% endif %}
                    </div>

                    <div class="mb-3">
                        {{ form_label(form.blogImage) }}
                        {{ form_widget(form.blogImage, {
                            'attr': {
                                'class': 'form-control' ~ (errors['blogImage'] is defined ? ' form-error' : ''),
                                'required': false
                            }
                        }) }}
                        {% if errors['blogImage'] is defined %}
                            <div class="error-message">{{ errors['blogImage'] }}</div>
                        {% endif %}
                    </div>

                    <div class="d-flex justify-content-between">
                        <a href="{{ path('app_blog_index') }}" class="btn btn-secondary">
                            <i class="fas fa-arrow-left"></i> Retour à la liste
                        </a>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i> Créer
                        </button>
                    </div>
                </div>
            </div>
        {{ form_end(form) }}
    </div>
{% endblock %}